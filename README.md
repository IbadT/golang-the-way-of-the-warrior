# golang-the-way-of-the-warrior

1. Создать **альтер миграцию для `tasks`**, добавив связь с таблицей `users`.
    - Добавьте поле `user_id`, связанное с ID пользователя, который владеет задачей.
    - Убедитесь, что поле ссылается на `id` в таблице `users` с каскадным удалением.
        
        Пример миграции:
        
        ```sql
        ALTER TABLE tasks ADD COLUMN user_id INTEGER REFERENCES users(id)
        ON DELETE CASCADE;
        ```
        
2. **Обновить структуру моделей**:
    - В модели `User` добавьте массив задач `Tasks []Task`
    - В модели `Task` добавьте `UserID uint` для связи задачи с её владельцем.
3. **Обновить `openapi.yaml`**:
    - Добавьте поле `user_id` в компоненты `task` для связи задачи с конкретным пользователем.
    - Обновите ручки:
        - **`GetTasksByUserID`** —  для получения всех задач конкретного пользователя.
        - **`PostTask`** —  для создания задачи с возможностью указать `user_id`.
4. **Обновить `taskService` и `userService`**:
    - Добавьте в `userService` метод `GetTasksForUser(userID uint)`, чтобы получать все задачи, принадлежащие пользователю.
    - Обновите `taskService`, чтобы при создании задачи добавлялся `user_id`, связывающий её с пользователем.
5. **Обновить`taskhandlers.go`**:
6. **Проверить код линтером**:
7. **Протестировать в `Postman`**:



1. добавить счетчик запросов для service + mutex